# 売上・広告費・ROAS集約ツール 開発プラン

このリポジトリは、売上・広告費・ROAS（Return On Ad Spend）を一元管理するWebツールの計画をまとめるためのものです。

## 1. 目的
- 売上と広告費を日次・媒体別に集計する
- ROASを自動計算し、推移を可視化する
- 担当者が毎日の広告運用判断をすばやく行える状態を作る

## 2. MVP（最初に作る範囲）
### 必須機能
1. **データ入力**
   - 売上（日時、商品/カテゴリ、金額）
   - 広告費（日時、媒体、キャンペーン、金額）
2. **集計画面**
   - 日次 / 週次 / 月次で売上と広告費を表示
   - 媒体別の集計（Google、Meta、Yahooなど）
3. **ROAS表示**
   - `ROAS = 売上 ÷ 広告費`
   - 全体ROASと媒体別ROASを表示
4. **基本フィルター**
   - 期間、媒体、キャンペーンで絞り込み

### MVPでは後回しにする機能
- 外部広告APIとの自動連携
- 詳細な権限管理
- 高度な予測機能

## 3. 画面構成（案）
1. **ダッシュボード**
   - 今日/今週/今月の売上、広告費、ROAS
   - 前期間比較（増減率）
2. **データ管理画面**
   - 売上データ・広告費データの登録/編集/削除
   - CSVインポート
3. **分析画面**
   - 折れ線グラフ（売上、広告費、ROAS推移）
   - 媒体別の棒グラフ比較

## 4. 技術構成（初期案）
- フロントエンド: React + TypeScript
- バックエンド: Node.js（Express or NestJS）
- データベース: PostgreSQL
- 認証: メール + パスワード（将来的にSSO対応）
- インフラ: Vercel（フロント）+ Render/Fly.io（API）

## 5. データモデル（最小）
- `sales`
  - `id`, `date`, `channel`, `campaign`, `amount`, `created_at`
- `ad_costs`
  - `id`, `date`, `channel`, `campaign`, `amount`, `created_at`
- `daily_metrics`（ビューまたは集計テーブル）
  - `date`, `channel`, `sales_amount`, `ad_cost_amount`, `roas`

## 6. 実装ステップ
### Phase 1: 土台づくり
- リポジトリ初期設定
- フロント/バックの雛形作成
- DBスキーマ定義・マイグレーション

### Phase 2: データ登録機能
- 売上・広告費のCRUD API
- フォームUI実装
- バリデーションとエラーハンドリング

### Phase 3: 集計・可視化
- 期間/媒体ごとの集計API
- ROAS算出ロジック実装
- ダッシュボード画面実装

### Phase 4: 運用改善
- CSVインポート
- KPIアラート（ROAS閾値割れ）
- テスト強化とパフォーマンス改善

## 7. テスト方針
- 単体テスト: ROAS計算、集計ロジック
- APIテスト: CRUD、集計エンドポイント
- E2Eテスト: データ入力→集計表示までの主要導線

## 8. 成果指標（KPI）
- 日次レポート作成時間を50%以上削減
- 入力ミス/集計ミスの削減
- 週次でROAS改善アクションを実施できる状態

## 9. 次アクション
1. 取り込む媒体（Google/Metaなど）の優先順位を決める
2. 入力方法（手入力/CVS/API連携）の優先度を決める
3. MVPの画面ワイヤーを作成する
